<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atelier Pratique - Débogage</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <link rel="stylesheet" href="../css/style.css">
</head>

<body>

    <header class="mobile-header">
        <button id="menu-btn" aria-label="Menu"><i data-lucide="menu"></i></button>
        <span class="logo">JS Atelier 00</span>
    </header>

    <div class="app-container">

        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <span class="js-badge">TP</span>
                <h1>Atelier : Débogage</h1>
            </div>
            <nav class="sidebar-nav">
                <a href="../../index.html" class="nav-link">Retour</a>
                <a href="#ex1" class="nav-link active">1. Guillemets perdus</a>
                <a href="#ex2" class="nav-link">2. Nom interdit</a>
                <a href="#ex3" class="nav-link">3. Ordre des lignes</a>
                <a href="#ex4" class="nav-link">4. Appel manquant</a>
                <a href="#boss" class="nav-link">5. Boss Final</a>
            </nav>
        </aside>

        <main class="main-content">

            <section id="intro" class="section-spy">
                <h2 class="section-title">Cahier d'exercices</h2>
                <p>
                    Objectif : apprendre à repérer les erreurs dans la console et corriger le code.
                    Chaque exercice contient des bugs à trouver.
                </p>
                <div class="info-box info">
                    <strong>Astuce :</strong> Une seule erreur peut empêcher tout le script d'exécuter.
                </div>
            </section>

            <section id="ex1" class="section-spy">
                <div class="section-header">
                    <span class="step-number">1</span>
                    <h3>Guillemets perdus</h3>
                </div>
                <p>Ce code doit afficher un message de bienvenue. Corrigez les erreurs.</p>

                <div class="playground-container" 
                     data-type="exercise" 
                     data-title="Débogage : Message d'accueil" 
                     data-instructions="Le message doit afficher 'Bienvenue !' puis 'Statut : OK'."
                     data-auto-height="false">
                    <textarea class="source-code" hidden>
console.log(Bienvenue !);
let statut = "OK"
console.log("Statut :", statut);
</textarea>
                    <textarea class="solution-code" hidden>
console.log("Bienvenue !");
let statut = "OK";
console.log("Statut :", statut);
</textarea>
                </div>
            </section>

            <section id="ex2" class="section-spy">
                <div class="section-header">
                    <span class="step-number">2</span>
                    <h3>Nom interdit</h3>
                </div>
                <p>Le code doit afficher le nombre de vies, mais une variable est mal nommée.</p>

                <div class="playground-container" 
                     data-type="exercise" 
                     data-title="Débogage : Variable invalide" 
                     data-instructions="Corrigez le nom de la variable pour que le code fonctionne."
                     data-auto-height="false">
                    <textarea class="source-code" hidden>
let 2vies = 3;
console.log("Vies restantes :", 2vies);
</textarea>
                    <textarea class="solution-code" hidden>
let vies = 3;
console.log("Vies restantes :", vies);
</textarea>
                </div>
            </section>

            <section id="ex3" class="section-spy">
                <div class="section-header">
                    <span class="step-number">3</span>
                    <h3>Ordre des lignes</h3>
                </div>
                <p>Cette variable est utilisée avant d'être déclarée. Corrigez l'ordre.</p>

                <div class="playground-container" 
                     data-type="exercise" 
                     data-title="Débogage : Ordre d'exécution" 
                     data-instructions="Déclarez la variable avant de l'utiliser."
                     data-auto-height="false">
                    <textarea class="source-code" hidden>
console.log("Utilisateur :", pseudo);
let pseudo = "Alex";
</textarea>
                    <textarea class="solution-code" hidden>
let pseudo = "Alex";
console.log("Utilisateur :", pseudo);
</textarea>
                </div>
            </section>

            <section id="ex4" class="section-spy">
                <div class="section-header">
                    <span class="step-number">4</span>
                    <h3>Appel manquant</h3>
                </div>
                <p>La fonction est définie mais jamais appelée correctement.</p>

                <div class="playground-container" 
                     data-type="exercise" 
                     data-title="Débogage : Appel de fonction" 
                     data-instructions="Appelle la fonction pour afficher le score."
                     data-auto-height="false">
                    <textarea class="source-code" hidden>
function afficherScore() {
  console.log("Score :", 1200);
}

afficherScore;
</textarea>
                    <textarea class="solution-code" hidden>
function afficherScore() {
  console.log("Score :", 1200);
}

afficherScore();
</textarea>
                </div>
            </section>

            <section id="boss" class="section-spy">
                <div class="section-header">
                    <span class="step-number">5</span>
                    <h3>Boss Final : Rapport de bugs</h3>
                </div>
                <p>Corrigez les trois erreurs pour afficher le rapport complet.</p>

                <div class="playground-container" 
                     data-type="exercise" 
                     data-title="Débogage : Rapport complet" 
                     data-instructions="Le script doit afficher le chargement, mettre à jour le nombre de pages et appeler la fonction resume()."
                     data-auto-height="false">
                    <textarea class="source-code" hidden>
const titre = "Journal";
console.log(Chargement du " + titre);

const pages = 10;
pages = pages + 2;
console.log("Pages :", pages);

function resume() {
  console.log("Résumé prêt !");
}

resumer();
</textarea>
                    <textarea class="solution-code" hidden>
const titre = "Journal";
console.log("Chargement du " + titre);

let pages = 10;
pages = pages + 2;
console.log("Pages :", pages);

function resume() {
  console.log("Résumé prêt !");
}

resume();
</textarea>
                </div>
            </section>
        </main>
    </div>

    <script src="../scripts/script.js"></script>
</body>

</html>
