<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS - Les Strings (Chaînes de caractères)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>

    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../editor/editor.css">
</head>
<body>

    <header class="mobile-header">
        <button id="menu-btn" aria-label="Menu"><i data-lucide="menu"></i></button>
        <span class="logo">JS Strings</span>
    </header>

    <div class="app-container">
        
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <span class="js-badge">JS</span>
                <h1>Les Strings</h1>
            </div>
            <nav class="sidebar-nav">
                <a href="../../index.html" class="nav-link">Retour</a>
            </nav>
        </aside>

        <main class="main-content">
            
            <section class="section-spy">
                <div class="section-header">
                    <h3>Qu'est-ce qu'une String ?</h3>
                </div>
                <p>
                    Une <strong>string</strong> (chaîne de caractères) est une séquence de lettres, de chiffres ou de symboles utilisée pour représenter du texte en programmation.
                </p>
                <div class="info-box info">
                    <p>
                        C'est un type de donnée fondamental. Dès que vous voulez afficher une phrase, un nom ou un code postal, vous utilisez une String.
                    </p>
                </div>            </section>

            <section class="section-spy">
                <div class="section-header">
                    <h3>Guillemets ou Backticks ?</h3>
                </div>
                <p>
                    JavaScript offre trois façons de créer des strings. Bien qu'elles se ressemblent, elles servent des besoins différents.
                </p>

                <div class="grid-2">
                    <div class="info-box info">
                        <h4><i data-lucide="quote"></i> Guillemets (' ou ")</h4>
                        <p><strong>Usage :</strong> Texte simple et court sans variables.</p>
                        <p><strong>Pourquoi ?</strong></p>
                        <ul class="code-list">
                            <li>Compatible avec tout le vieux code JS.</li>
                            <li>Utilisez les <code>" "</code> si votre texte contient une apostrophe (ex: J'aime).</li>
                            <li>Utilisez les <code>' '</code> si le texte a du HTML (ex: <code>&lt;div id="test"&gt;</code>).</li>
                        </ul>
                    </div>

                    <div class="info-box success">
                        <h4><i data-lucide="code-2"></i> Backticks ( ` )</h4>
                        <p><strong>Usage :</strong> Messages complexes et dynamiques.</p>
                        <p><strong>Pourquoi ?</strong></p>
                        <ul class="code-list">
                            <li><strong>Interpolation (Template Literals) :</strong> Insérer des variables directement avec <code>${}</code>.</li>
                            <li><strong>Multi-ligne :</strong> Créer des paragraphes sur plusieurs lignes.</li>
                        </ul>
                    </div>
                </div>

                <div class="playground-container" data-type="example" data-title="Utilisation de guillemets et de backticks">
<textarea class="source-code" hidden>
// Guillemets
let prenom = "Victor Hugo";

let html = `
    <div>
        <p>Bonjour, je m'appelle ${prenom}.</p>
    </div>
`;

console.log(html);
</textarea>
                </div>            </section>

            <section class="section-spy">
                <div class="section-header">
                    <h3>Concaténation (fusionner du texte et des variables)</h3>
                </div>
                <p>Assembler du texte et des variables est essentiel pour créer des messages dynamiques.</p>

                <div class="grid-2">
                    <div class="info-box">
                        <h4>La méthode classique (<code>+</code>)</h4>
                        <code>"Bonjour " + nom + "!"</code>
                    </div>
                    <div class="info-box success">
                        <h4>La méthode moderne (<code>` `</code>)</h4>
                        <code>`Bonjour ${nom}!`</code>
                        <p class="tiny-note">Utilise les backticks et <code>${ }</code>. C'est plus lisible.</p>
                    </div>
                </div>

                <div class="playground-container" data-type="example" data-title="En utilisant les guillemets et la concaténation (+)">
<textarea class="source-code" hidden>
// Texte simple en utilisant les guillemets
let prenom = "Victor";
let age = 5;

// On utilise + pour combiner texte et variables.
let html = "<div><p>Bonjour, je m'appelle " + prenom + " et j'ai " + age + " ans.</p></div>";

console.log(html);
</textarea>
                </div>

                <div class="playground-container" data-type="example" data-title="En utilisant les backticks et l'interpolation ${}" data-instructions="Beaucoup plus lisible!">
<textarea class="source-code" hidden>
// Version moderne avec les template literals (`backticks`)
let prenom = "Victor";
let age = 5;

let html = `
    <div>
        <p>Bonjour, je m'appelle ${prenom} et j'ai ${age} ans.</p>
    </div>
`;

console.log(html);
</textarea>
                </div>

                <div class="playground-container" 
                    data-type="exercise" 
                    data-title="Utiliser les guillemets et les backticks"  
                    data-instructions="Créer l'élément HTML en commentaire en utilisant les guillemets et les backticks">
                    <textarea class="source-code" hidden>
// <div class="message">
//  <div class="message-entete">
//    <span class="message-auteur">Marc-Alexandre</span>
//    <span class="message-date">28 janvier 22h30</span>
//  </div>
//  <div class="message-texte">
//    Ceci est le message.
//  </div>
// </div>

let auteurMessage = "Marc-Alexandre";
let dateMessage = "28 janvier 22h30";
let texteMessage = "Ceci est le message.";

// TODO: Utiliser les backticks pour créer l'élément HTML de façon dynamique.
let html = ...;

console.log(html);
</textarea>
                    <textarea class="solution-code" hidden>
let auteurMessage = "Marc-Alexandre";
let dateMessage = "28 janvier 22h30";
let texteMessage = "Ceci est le message.";

let html = `
<div class="message">
  <div class="message-entete">
    <span class="message-auteur">${auteurMessage}</span>
    <span class="message-date">${dateMessage}</span>
  </div>
  <div class="message-texte">
    ${texteMessage}
  </div>
</div>
`;

console.log(html);

</textarea>
                </div>            </section>

            <section class="section-spy">
                <div class="section-header">
                    <h3>La longueur du texte: la propriété Length</h3>
                </div>
                
                <div class="info-box tip">
                    <h4><i data-lucide="ruler"></i> Compter les caractères</h4>
                    <p>
                        La propriété <code>.length</code> renvoie le nombre total de caractères dans la chaîne.
                        <br>
                        <strong>Attention :</strong> Les espaces, la ponctuation et les symboles comptent.
                        <br>
                        <br>
                        Utile pour valider qu'un champs texte n'est pas vide ou comporte un nombre minimal/maximal de caractères.
                    </p>
                </div>

                <div class="info-box">
                    <h4><i data-lucide="info"></i>Ne pas oublier .length!</h4>
                    <p>
                        Attention de ne pas oublier <code>.length</code>! 
                        <br>
                        L'erreur fréquente au début est de faire <code>if(motDePasse > 0)</code> au lieu de <code>if(motDePasse.length > 0)</code>
                    </p>
                </div>

                <div class="playground-container" data-type="example" data-title="Mesurer le texte" data-instructions="S'assurer qu'un mot de passe ne soit pas vide ET qu'il contienne au plus 5 caractères.">
<textarea class="source-code" hidden>
let motDePasse = "T1M2026!"; // Changer pour T1M pour qu'il soit valide

if(motDePasse.length > 0 && motDePasse.length <= 5)
{
    console.log("Mot de passe valide");
} else {
    console.log("Mot de passe invalide");
}
</textarea>
                </div>

                <div class="playground-container" data-type="exercise" data-title="Vérifier la longueur" data-instructions="S'assurer qu'un mot de passe ait au moins 8 caractère ET qu'il contienne au plus 12 caractères.">
                    <textarea class="source-code" hidden>
let motDePasse = "T1M-1Ntr0Pr0graMaT10N"; //Tester avec différentes longueurs

</textarea>
                    <textarea class="solution-code" hidden>
let motDePasse = "T1M-1Ntr0Pr0graMaT10N"; //Tester avec différentes longueurs

if(motDePasse.length >= 8 && motDePasse.length <= 12)
{
    console.log("Mot de passe valide");
} else {
    console.log("Mot de passe invalide");
}
</textarea>
                </div>            </section>

            <section class="section-spy">
                <div class="section-header">
                    <h3>La position des lettres</h3>
                </div>
                <p>
                    Pour l'ordinateur, chaque lettre occupe une position précise appelée <strong>index</strong>. 
                    <br>
                    <strong>Attention :</strong> En programmation, on commence toujours à compter à partir de <strong>0</strong>.
                </p>

                <div class="grid-2">
                    <div class="info-box info">
                        <h4>Premier caractère</h4>
                        <code>message[0]</code>
                    </div>
                    <div class="info-box success">
                        <h4>Dernier caractère</h4>
                        <code>message[message.length - 1]</code>
                    </div>
                </div>

                <div class="playground-container" data-type="example" data-title="Accéder aux index">
<textarea class="source-code" hidden>
let mot = "JavaScript";

let premiereLettre = mot[0];
let cinquiemeLettre = mot[4];
let derniereLettre = mot[mot.length-1];

console.log("Première lettre :", premiereLettre); // "J"
console.log("5e lettre :", cinquiemeLettre); // "S"
console.log("Dernière lettre :", derniereLettre); // "t"
</textarea>
                </div>            </section>

            <section class="section-spy">
                <div class="section-header">
                    <h3>Méthodes helpers</h3>
                </div>
                <p>JavaScript offre des fonctions prêtes à l'emploi (méthodes) pour transformer vos chaînes.</p>

                <div class="steps-grid">
                    <div class="step-card">
                        <h4><code>replace(searchValue, replaceValue)</code></h4>
                        <p>Remplace la première occurrence trouvée.</p>
                    </div>
                    <div class="step-card">
                        <h4><code>includes(searchString)</code></h4>
                        <p>Retourne <code>true</code> si le texte contient la valeur.</p>
                    </div>
                    <div class="step-card">
                        <h4><code>slice(start, end)</code></h4>
                        <p>Extrait une portion de chaîne sans modifier l'originale.</p>
                    </div>
                    <div class="step-card">
                        <h4><code>toUpperCase()</code></h4>
                        <p>Met tous les caractères en MAJUSCULES.</p>
                    </div>
                </div>

                <div class="playground-container" data-type="example" data-title="Remplacer un mot par un autre">
<textarea class="source-code" hidden>
let texte = "Le javascript est un langage pour les idiots";
let texteCensure = texte.replace("idiots", "!#@$#!");

console.log(texte);
console.log(texteCensure);
</textarea>
                </div>

                                <div class="playground-container" data-type="example" data-title="Est-ce qu'un texte contient un mot?">
<textarea class="source-code" hidden>
let questionExamen = "Quel langage apprenons-nous dans ce cours ?";
let bonneReponse = "javascript";

let reponseEtudiant = "Le javascript est le langage que nous apprenons";

if(reponseEtudiant.includes(bonneReponse)){
    console.log("Félicitations, vous avez la bonne réponse!");
} else {
    console.log("Désolé, vous avez la mauvaise réponse!");
}

</textarea>
                </div>                    </textarea>

                    <script type="application/json" class="quiz-config">
{
  "checks": [
    {
      "type": "variable",
      "name": "message",
      "equals": "DRAGON (dra)!",
      "message": "La variable message doit valoir DRAGON (dra)!"
    },
    {
      "type": "consoleIncludes",
      "value": "DRAGON (dra)!",
      "message": "console.log doit afficher DRAGON (dra)!"
    },
    {
      "type": "domText",
      "selector": "#resultat",
      "includes": "DRAGON (dra)!",
      "message": "#resultat doit contenir DRAGON (dra)!"
    }
  ]
}
                    </script>

                    <textarea class="quiz-validator" hidden>
return {
  valid: quizApi.text("#resultat").trim().endsWith("!"),
  message: "Validation custom: le rendu doit finir par un point d'exclamation."
};
                    </textarea>

                    <textarea class="quiz-solution-code" hidden>
const pseudo = "dragon";
const version = pseudo.toUpperCase();
const extrait = pseudo.slice(0, 3);

const message = `${version} (${extrait})!`;
console.log(message);
document.querySelector("#resultat").textContent = message;
                    </textarea>
                </div>
            </section>
        </main>
    </div>

    <script src="../editor/editor.js"></script>
    <script src="../scripts/script.js"></script>
</body>
</html>
